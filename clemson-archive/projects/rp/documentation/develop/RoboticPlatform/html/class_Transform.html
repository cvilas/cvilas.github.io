<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Transform Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Thu Jul 19 13:03:36 2001 -->
<h1>Transform  Class Reference</h1>The class <code>Transform</code> represents a 4x4 transformation matrix. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Transform_hpp-source.html">Transform.hpp</a>&gt;</code>
<p>
<p>Inheritance diagram for Transform:
<p><center><img src="class_Transform.gif" usemap="#Transform_map" border="0"></center>
<map name="Transform_map">
<area href="class_Matrix.html" alt="Matrix" shape="rect" coords="0,56,131,80">
<area href="class_MatrixBase.html" alt="MatrixBase" shape="rect" coords="0,0,131,24">
</map>
<a href="class_Transform-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a0">Transform</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a1">Transform</a> (const Transform &amp;transform)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a2">~Transform</a> ()</td></tr>
<tr><td nowrap align=right valign=top>MatrixInitializer&lt;double&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a3">operator=</a> (const double &amp;elementValue)</td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_ColumnVector.html">ColumnVector</a>&lt;3,double&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a4">getTranslation</a> () const</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a5">getRollPitchYaw</a> (double &amp;roll, double &amp;pitch, double &amp;yaw) const</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_Transform.html#a6">getEulerAngles</a> (double &amp;theta, double &amp;phi, double &amp;xi) const</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The class <code>Transform</code> represents a 4x4 transformation matrix.
<p>
The class <code>Transform</code> is derived from it's base class <code><a class="el" href="class_Matrix.html">Matrix</a></code>.
<p>
The methods provided in the class <code>Transform</code> include homogeneous transformations about XYZ or any arbitrary axes, extraction of  position and orientation from the transition matrix.
<p>
<b>Example Program:</b>
<p>
<div class="fragment"><pre><font class="comment">//========================================================================</font>
<font class="comment">// Project: Robotic Platform</font>
<font class="comment">// ----------------------------------------------------------------------</font>
<font class="comment">// Package      : The Math Library</font>
<font class="comment">// Authors      : Vilas Kumar Chitrakaran</font>
<font class="comment">// Start Date   : Wed Dec 20 11:08:28 GMT 2000</font>
<font class="comment">// Compiler     : GNU c++</font>
<font class="comment">// Operating System : QNX RTP</font>
<font class="comment">// ----------------------------------------------------------------------</font>
<font class="comment">// File: Transform.t.cpp</font>
<font class="comment">// Example program for the Transform class.</font>
<font class="comment">//========================================================================</font>

<font class="comment">//========================================================================</font>
<font class="comment">// Transform.t.cpp</font>
<font class="comment">//------------------------------------------------------------------------</font>
<font class="comment">// \brief</font>
<font class="comment">// The file Transform.t.cpp is an example program that tests the transform</font>
<font class="comment">// related functions provided in the Math Library for the Robotic Platform.</font>
<font class="comment">//</font>
<font class="comment">// The following program demonstrates how to find the values of the</font>
<font class="comment">// components of a vector in a fixed reference frame after the vector </font>
<font class="comment">// undergoes a series of transformations about the frame.</font>
<font class="comment">//========================================================================</font>

<font class="preprocessor">#include "Transform.hpp"</font>

<font class="keywordtype">int</font> main()<font class="keyword"></font>
<font class="keyword"></font>{
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;4, double&gt;</a> initialPositionVector;
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;4, double&gt;</a> finalPositionVector;
  <a class="code" href="class_Transform.html">Transform</a> firstRotation;
  <a class="code" href="class_Transform.html">Transform</a> secondRotation;
  <a class="code" href="class_Transform.html">Transform</a> transform;
  <font class="keywordtype">double</font> PI=3.141592654;

<font class="comment">//========================================================================</font>
<font class="comment">// The problem statement.</font>
<font class="comment">//========================================================================</font>
<font class="comment">// The vector first rotates about fixed y axis by 90 degrees, then about </font>
<font class="comment">// the fixed x axis by 90 degrees. The vector then translates along the fixed</font>
<font class="comment">// Z axis by 6 units. Requirement is to find the final co-ordinates of the </font>
<font class="comment">// vector w.r.t fixed xyz frame.</font>
<font class="comment">//========================================================================</font>

  <font class="comment">// The initial position is [1 0 0];</font>
  initialPositionVector(1) = 1;
  initialPositionVector(2) = 0;
  initialPositionVector(3) = 0;
  initialPositionVector(4) = 1;
  <font class="comment">//position vectors are 4x1, the last element being 1 always.</font>
  
  <font class="comment">// Finding the new co-ordinates.</font>
  transform = xRotation(PI*90/180) * yRotation(PI*90/180)  * translation(0,0,6);
  <font class="comment">// Angles must be specified in radians.</font>
  finalPositionVector = transform * initialPositionVector;
  
  cout &lt;&lt; <font class="stringliteral">"The co-ordinates of the new position vector in fixed frame: \n"</font> &lt;&lt; finalPositionVector &lt;&lt; endl;
  
  <font class="comment">// Translation between the new vector and the intial position of the vector in the fixed frame.</font>
  cout &lt;&lt; <font class="stringliteral">"Translation between the new and the initial vector: \n"</font> &lt;&lt; transform.<a class="code" href="class_Transform.html#a4">getTranslation</a>() &lt;&lt; endl;

  
  <font class="comment">// To get the roll/pitch/yaw angles of the new vector.</font>
  <font class="keywordtype">double</font> roll;
  <font class="keywordtype">double</font> pitch;
  <font class="keywordtype">double</font> yaw;
  transform.<a class="code" href="class_Transform.html#a5">getRollPitchYaw</a>(roll, pitch, yaw);
  cout &lt;&lt; <font class="stringliteral">"roll angle of the new vector: "</font> &lt;&lt; roll*180/PI &lt;&lt; <font class="stringliteral">" degrees"</font> &lt;&lt; endl;
  cout &lt;&lt; <font class="stringliteral">"pitch angle of the new vector: "</font> &lt;&lt; pitch*180/PI &lt;&lt; <font class="stringliteral">" degrees"</font> &lt;&lt; endl;
  cout &lt;&lt; <font class="stringliteral">"yaw angle of the new vector: "</font> &lt;&lt; yaw*180/PI &lt;&lt; <font class="stringliteral">" degrees"</font> &lt;&lt; endl;
  
  <font class="comment">// You can get back the initial positionvcetor by the inverse transformation..</font>
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;4, double&gt;</a> initialPositionVectorAgain;
  initialPositionVectorAgain = inverse(transform) * finalPositionVector;
  cout &lt;&lt; <font class="stringliteral">"The co-ordinates of the initial position vector re-calculated by inverse transformation: \n"</font> &lt;&lt; initialPositionVectorAgain &lt;&lt; endl;
  cout &lt;&lt; <font class="stringliteral">"The co-ordinates of the initial position vector originally given: \n"</font> &lt;&lt; initialPositionVector &lt;&lt; endl;

  <font class="keywordflow">return</font> 0;
}
</div></pre> 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Transform::Transform"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Transform (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The default constructor for the <code>Transform</code> object. The <code>Transform</code> matrix is initialized to the following form. <div class="fragment"><pre>      [0 0 0 0]
      [0 0 0 0]
      [0 0 0 0]
      [0 0 0 1]</div></pre>     </td>
  </tr>
</table>
<a name="a1" doxytag="Transform::Transform"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Transform (
          </b></td>
          <td valign="bottom"><b>
const Transform &amp; <em>transform</em>&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Copy Constructor.     </td>
  </tr>
</table>
<a name="a2" doxytag="Transform::~Transform"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
~Transform (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The default destructor.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="Transform::operator="></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
MatrixInitializer&lt; double &gt; operator=&lt;double&gt; (
          </b></td>
          <td valign="bottom"><b>
const double &amp; <em>elementValue</em>&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function provides an overloaded assignment operator for initializing the elements of a Transform. The initialization of the Transform object can be  done as a comma seperated list. For example: <div class="fragment"><pre><a class="code" href="class_Transform.html">Transform</a> myTransform;
     myTransform = cos(x), sin(x),...so on ; </div></pre> <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>elementValue</em>
&nbsp;</td><td>
 The value to which the element at a position in Transform is initialized. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="Transform::getTranslation"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_ColumnVector.html">ColumnVector</a>&lt; 3,double &gt; getTranslation&lt;3,double&gt; (
          </b></td>
          <td valign="bottom"><b>
) const<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
returns the XYZ position from the transition matrix.     </td>
  </tr>
</table>
<a name="a5" doxytag="Transform::getRollPitchYaw"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void getRollPitchYaw (
          </b></td>
          <td valign="bottom"><b>
double &amp; <em>roll</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
double &amp; <em>pitch</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
double &amp; <em>yaw</em>&nbsp;) const<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
returns the roll, pitch and yaw angles from the transition matrix. (The rotational part of the Transform matrix is obtained by  first defining a rotation about X axis by <code>yaw</code> radians,  then a rotation about the Y axis by <code>pitch</code> radians and  finally a rotation about the Z axis by <code>roll</code> radians,  all rotations being relative to a fixed XYZ frame.) <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>roll</em>
&nbsp;</td><td>
 The roll angle is extracted into this variable. </td></tr>
<tr><td valign=top><em>pitch</em>
&nbsp;</td><td>
 The pitch angle is extracted into this variable. </td></tr>
<tr><td valign=top><em>yaw</em>
&nbsp;</td><td>
 The yaw angle is extracted into this variable. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="Transform::getEulerAngles"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void getEulerAngles (
          </b></td>
          <td valign="bottom"><b>
double &amp; <em>theta</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
double &amp; <em>phi</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
double &amp; <em>xi</em>&nbsp;) const<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
returns the euler angles from the transition matrix. (Besides the roll/pitch/yaw notation, the rotational part  of the Transform matrix is also obtained by first  defining a rotation about Z axis by <code>phi</code> radians,  then a rotation about the current Y axis by <code>theta</code>  radians and finally a rotation about the current Z  axis by <code>xi</code> radians.) <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>theta</em>
&nbsp;</td><td>
 The angle theta is extracted into this variable. </td></tr>
<tr><td valign=top><em>phi</em>
&nbsp;</td><td>
 The angle phi is extracted into this variable. </td></tr>
<tr><td valign=top><em>xi</em>
&nbsp;</td><td>
 The angle xi is extracted into this variable. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Transform_hpp-source.html">Transform.hpp</a></ul>
</body>
</html>
