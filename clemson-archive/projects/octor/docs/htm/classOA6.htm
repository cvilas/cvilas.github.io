<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Octarm VI On-board Control System: OA6 Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.htm"><span>Classes</span></a></li>
    <li><a href="files.htm"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.htm"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.htm"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.htm"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>OA6 Class Reference</h1><!-- doxytag: class="OA6" --><!-- doxytag: inherits="SubSystem" -->The hardware interface class for Octarm 6 (March 2006) manipulator.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="OA6_8hpp-source.htm">OA6.hpp</a>&gt;</code>
<p>
<p>Inheritance diagram for OA6:
<p><center><img src="classOA6.png" usemap="#OA6_map" border="0" alt=""></center>
<map name="OA6_map">
<area href="classSubSystem.htm" alt="SubSystem" shape="rect" coords="0,0,74,24">
</map>
<a href="classOA6-members.htm">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#d6774b50f066a1b6534eb2a0e9ebcc55">OA6</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#95e2c8a2e0abb67eaf00736c25506e98">~OA6</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#25fcbccab6ec4d1a91302c385b27466f">setDesiredSuction</a> (double eff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#c46db9f07cf50fc6cc0e718e583b9218">setDesiredLedPower</a> (int p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#163ceefa840a1e25841bfb094c5d7992">setDesiredPosition</a> (Vector&lt; 10 &gt; &amp;position)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#28641863aaaf9cae1ee1e21aac618b23">setTraGen</a> (<a class="el" href="classOA6TraGen.htm">OA6TraGen</a> *tg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#dc67302912bc7628529e2ee10f3326b2">getBatteryVoltage</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#1dacfa089e88cad533c534693ff8006c">getSuctionEffort</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#ec4658535456bcc27b3a80bbd6b1aadd">getLedPowerLevel</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Vector&lt; 16 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#2bc93fb64816336bf73a0f58f631641b">getEnvSensorData</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Vector&lt; 10 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#e424078307d53da0abbe8bf493a40056">getDesiredPosition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Vector&lt; 10 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#6b6fbdfd4f78b7e90540398674efb89d">getCurrentPosition</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Vector&lt; 10 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#d43c03178c8e02fd5d560d83c422872a">getCurrentVelocity</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Vector&lt; 10 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#db4be22a5c2be0a4d201a1db10f63888">getActuatorEffort</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#51b98c11bef266f9d3a4c208adaf36e0">calibrate</a> (Vector&lt; 10 &gt; &amp;position)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#6554ab844752604e2838fc9a9f85983e">enableArmPower</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#d778fda505339aa76d50a6ed5331cbe5">disableArmPower</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#497352635a6601fe562d4210c1ae25ef">isArmPowerEnabled</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#232678f6f744aae97de8f9ec9a799f78">reset</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#c5d606ea506a04ffd08fcaaf815ca74f">startShutdown</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#5632e2ca7f72cd0f7c8d4f10f67f6857">shutdown</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#78a25f320b8e73e166e99670e37535a2">setSimulationModeOn</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#26dc3ce4fc3725c8321e15b559c92da3">setSimulationModeOff</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#5d21f8d2737d84d5c665d9dc62c06c56">isSimulationModeOn</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#e87811431a701b493f48a343a5c2242c">isRunning</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">ControlProgram *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#d173b6fe84801c785dbdc4d962d2f6f6">getQmotorControlProgram</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201">OA6::_message</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#82ea0d3ab9399730f3d39d5d0526fcb7">message</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201">_message</a> { <br>
&nbsp;&nbsp;<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201f6fb7d3a75129a91b7c070bf56c8767d">message_init</a> =  100, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b8855358022011651e71fb05333ca44ee30acc26c8c33">message_reset</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201374e664af381da8655af1bd5c6a94e2a">message_getPosition</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201cbfdbe3f1a2bfdabf8a1b068cb079e1e">message_getVelocity</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b8855358022013beb3bb7e58635f4c8837c65ecd1509c">message_getActuatorEffort</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b8855358022015ba2add293de9b78ba2bb9b283e9f548">message_getDesiredPosition</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b88553580220134b90ec064d07aa075fd2292772f6848">message_getEnvSensorData</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201e4974a69ab0254dd5d0d7853d27dae3d">message_setDesiredPosition</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201b6bad3fbe654b46aa7a7de73fcc5d128">message_setPosition</a>, 
<a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b88553580220195bda38ae38ccc89336e3645091ffb97">message_setTraGen</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#91910f363eac341c8a38e38385704857">releaseAirPressure</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#83c59d3a5a3e2336ae41a510b2a4dabf">isPositionWithinLimits</a> (Vector&lt; 10 &gt; &amp;pos, int &amp;actuatorMask)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#e20efea4e6daf17ab9fc46738d1ab17d">isActuatorEffortWithinLimits</a> (Vector&lt; 10 &gt; &amp;press, int &amp;actuatorMask)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#e3682a718c0fe6895d7e90960ce405cb">isActuatorFailed</a> (Vector&lt; 10 &gt; &amp;desiredEffort, Vector&lt; 10 &gt; &amp;currentEffort, int &amp;actuatorMask)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError</a> (int errorCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#9784e2b5d5ad799949bd76a746f8dc4b">readConfiguration</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#0fffcc0af02822896eb3505e9ff49730">enterControl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#57e8621f7f638718601d8eeeac3ff283">startControl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#c8ded96bc2a3179414e19efa23beec28">control</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#a32a1fd6ef68c0f54a4015fa0be6ef3a">stopControl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#ab34be3d8e53b8ad07ed15d05978b275">exitControl</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#e8a027aa1341010ad743eb52097efc64">handleMessage</a> (pid_t pid, char *<a class="el" href="classOA6.htm#82ea0d3ab9399730f3d39d5d0526fcb7">message</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#4687b48d503f8f12705ff2281ed590ce">localInit</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#2bbc46956faa0cb6cb7961489f128d5f">registerQmotorParameters</a> (ControlProgram *cp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#2562d591c87d3de03060e327cdc90632">readGlobalConfiguration</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#af5e7f16f79fdb4eddeaf29423728caa">readEnvSensors</a> (Vector&lt; 16 &gt; &amp;e)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#6a36fbaeeaa2321695bd5a7b7d3ab2ed">readBatteryVoltage</a> (double &amp;b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#411f205428b9db30dc2f8276778d6c69">readActuatorPosition</a> (Vector&lt; 10 &gt; &amp;l)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOA6.htm#752e6c50d228bad000acfdd6c6ea8a38">readActuatorEffort</a> (Vector&lt; 10 &gt; &amp;actuators, double &amp;sucker)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The hardware interface class for Octarm 6 (March 2006) manipulator. 
<p>
This is where it all happens! This class provides the interface to the manipulator hardware through the I/O boards, and ties it to the servo control loop. The implementation truly reflects the hardware. For example, this class recognizes actuator lengths as robot internal variables, not s-k-phi. Mechanical parameters are encoded in <a class="el" href="classOA6Model.htm">OA6Model</a> class. Object of this class will shutdown first in a global shutdown sequence.<p>
<b>NOTE:</b> Conversion constants, STG channels, voltage ranges, model paramters all depend on the actual hardware configuration. This class is written for a specific hardware working within a specific range of parameters. Safety features: <ul>
<li>
Control loop exits if base motor torque, actuator pressure exceeds limits for a time period beyond a set timeout (see actuatorLimitExceedTime in global config file). NOTE: Control does not shut down if specified actuator max positions are exceeded, except for the base motor which has a mechanical limit. It is assumed that the actuators are designed for a max pressure + some tage tolerance. </li>
<li>
Desired position inputs are always truncated at max actuator position limits. </li>
<li>
IO board faults during hardware mode will cause system exit. </li>
<li>
If IO board clients fail to initialize while switching from simulation to hardware mode, the switch won't happen, and the program won't exit but a fault status will be set. </li>
</ul>
<p>
<b>IO mappings</b> <br>
<hr>
<br>
<p>
(NOTE: bit numbering starts at 0)<br>
 <ul>
<li>
STG 0: 8 ADCs, 8 DACs, 8 encoders, Digital outputs: port A,B, Digital inputs: port C </li>
<li>
STG 1: 4 ADCs, 4 DACs, 2 encoders </li>
</ul>
<ol>
<li>
Environment sensor:<br>
 # Address bits (EA,EB,EC,ED): STG 0, digital output 0 - 3 (Port A, bits 0 - 3) (P11)<br>
 # Analog sense input: STG 1, ADC 2 (P22)<br>
 </li>
<li>
Sucker address bits (SA,SB,SC): STG 0, digital output 4 - 6 (Port A, bits 4 - 6) (P11) </li>
<li>
Pressure sense: <br>
 # Address bits: STG 0, digital output 8 - 11 (Port B, bits 0 - 3) (P11)<br>
 # Analog sense input: STG 1, ADC 1. (P22)<br>
 </li>
<li>
Arm power enable: STG 0, digital output 12 (Port B, bit 4) (P11) </li>
<li>
Arm power sense : STG 0, digital input 0 (Port C, bit 0) (P11) </li>
<li>
Pressure regulator control output: <br>
 # STG 0, DAC 0 - 3 (P31), 4 - 7 (P41) <br>
 # STG 1, DAC 0 (P32) <br>
 </li>
<li>
Base motor control <br>
 # Motion mind controller on serial port /dev/ser1 <br>
 # Analog drive (if motion mind controller not used): STG 1, DAC 1 (P32) <br>
 # Encoder input (if motion mind controller not used): STG 1, Encoder 1 (P32) <br>
 </li>
<li>
Nose cam LED current control: STG 1, DAC 2 (P32) </li>
<li>
Vaccum control (pressure) regulator output: STG 1, DAC 3 (P32) </li>
<li>
Encoder inputs: <br>
 # STG 0, encoders 0 - 3 (P31), 4 - 7 (P41) <br>
 # STG 1, encoders 0 (P32) (Encoder 1 available for base motor if required) </li>
<li>
Strain sensor inputs: <br>
 # STG 0, ADC 0 - 7 (P21) <br>
 # STG 1, ADC 0 (P22) </li>
<li>
Battery sense (Tied to computer input): STG 1, ADC 3 (P22) </li>
</ol>

<p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="82ea0d3ab9399730f3d39d5d0526fcb7"></a><!-- doxytag: member="OA6::message" ref="82ea0d3ab9399730f3d39d5d0526fcb7" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">typedef enum <a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201">OA6::_message</a> <a class="el" href="classOA6.htm#82ea0d3ab9399730f3d39d5d0526fcb7">OA6::message</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<hr><h2>Member Enumeration Documentation</h2>
<a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201"></a><!-- doxytag: member="OA6::_message" ref="2fdf1cdaf97ba6719c4b885535802201" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">enum <a class="el" href="classOA6.htm#2fdf1cdaf97ba6719c4b885535802201">OA6::_message</a><code> [protected]</code>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201f6fb7d3a75129a91b7c070bf56c8767d"></a><!-- doxytag: member="message_init" ref="2fdf1cdaf97ba6719c4b885535802201f6fb7d3a75129a91b7c070bf56c8767d" args="" -->message_init</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b8855358022011651e71fb05333ca44ee30acc26c8c33"></a><!-- doxytag: member="message_reset" ref="2fdf1cdaf97ba6719c4b8855358022011651e71fb05333ca44ee30acc26c8c33" args="" -->message_reset</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201374e664af381da8655af1bd5c6a94e2a"></a><!-- doxytag: member="message_getPosition" ref="2fdf1cdaf97ba6719c4b885535802201374e664af381da8655af1bd5c6a94e2a" args="" -->message_getPosition</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201cbfdbe3f1a2bfdabf8a1b068cb079e1e"></a><!-- doxytag: member="message_getVelocity" ref="2fdf1cdaf97ba6719c4b885535802201cbfdbe3f1a2bfdabf8a1b068cb079e1e" args="" -->message_getVelocity</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b8855358022013beb3bb7e58635f4c8837c65ecd1509c"></a><!-- doxytag: member="message_getActuatorEffort" ref="2fdf1cdaf97ba6719c4b8855358022013beb3bb7e58635f4c8837c65ecd1509c" args="" -->message_getActuatorEffort</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b8855358022015ba2add293de9b78ba2bb9b283e9f548"></a><!-- doxytag: member="message_getDesiredPosition" ref="2fdf1cdaf97ba6719c4b8855358022015ba2add293de9b78ba2bb9b283e9f548" args="" -->message_getDesiredPosition</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b88553580220134b90ec064d07aa075fd2292772f6848"></a><!-- doxytag: member="message_getEnvSensorData" ref="2fdf1cdaf97ba6719c4b88553580220134b90ec064d07aa075fd2292772f6848" args="" -->message_getEnvSensorData</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201e4974a69ab0254dd5d0d7853d27dae3d"></a><!-- doxytag: member="message_setDesiredPosition" ref="2fdf1cdaf97ba6719c4b885535802201e4974a69ab0254dd5d0d7853d27dae3d" args="" -->message_setDesiredPosition</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b885535802201b6bad3fbe654b46aa7a7de73fcc5d128"></a><!-- doxytag: member="message_setPosition" ref="2fdf1cdaf97ba6719c4b885535802201b6bad3fbe654b46aa7a7de73fcc5d128" args="" -->message_setPosition</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2fdf1cdaf97ba6719c4b88553580220195bda38ae38ccc89336e3645091ffb97"></a><!-- doxytag: member="message_setTraGen" ref="2fdf1cdaf97ba6719c4b88553580220195bda38ae38ccc89336e3645091ffb97" args="" -->message_setTraGen</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>
    </td>
  </tr>
</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d6774b50f066a1b6534eb2a0e9ebcc55"></a><!-- doxytag: member="OA6::OA6" ref="d6774b50f066a1b6534eb2a0e9ebcc55" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">OA6::OA6           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The constructor. Does initializations.     </td>
  </tr>
</table>
<a class="anchor" name="95e2c8a2e0abb67eaf00736c25506e98"></a><!-- doxytag: member="OA6::~OA6" ref="95e2c8a2e0abb67eaf00736c25506e98" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual OA6::~OA6           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The destructor. Cleans up.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="25fcbccab6ec4d1a91302c385b27466f"></a><!-- doxytag: member="OA6::setDesiredSuction" ref="25fcbccab6ec4d1a91302c385b27466f" args="(double eff)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::setDesiredSuction           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>eff</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set desired pressure in the suction regulator. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>eff</em>&nbsp;</td><td>Desired pressure (0 - 120 psi) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="c46db9f07cf50fc6cc0e718e583b9218"></a><!-- doxytag: member="OA6::setDesiredLedPower" ref="c46db9f07cf50fc6cc0e718e583b9218" args="(int p)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::setDesiredLedPower           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>p</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set nosecam LED voltage <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>Voltage (0 - 10V) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="163ceefa840a1e25841bfb094c5d7992"></a><!-- doxytag: member="OA6::setDesiredPosition" ref="163ceefa840a1e25841bfb094c5d7992" args="(Vector&lt; 10 &gt; &amp;position)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::setDesiredPosition           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>position</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set a desired setpoint for the actuators. NOTE: If a trajectory generator is already connected (using <a class="el" href="classOA6.htm#28641863aaaf9cae1ee1e21aac618b23">setTraGen()</a> ), this function will do nothing and just return -1. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>The next setpoint(rad, cm). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="28641863aaaf9cae1ee1e21aac618b23"></a><!-- doxytag: member="OA6::setTraGen" ref="28641863aaaf9cae1ee1e21aac618b23" args="(OA6TraGen *tg)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void OA6::setTraGen           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="classOA6TraGen.htm">OA6TraGen</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>tg</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Associate a trajectory generator with the manipulator. If tg = NULL, any trajectory generator associated with the manipulator is removed, and the manipulator will follow setpoints set by <a class="el" href="classOA6.htm#163ceefa840a1e25841bfb094c5d7992">setDesiredPosition()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tg</em>&nbsp;</td><td>Pointer to a trajectory generator </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="dc67302912bc7628529e2ee10f3326b2"></a><!-- doxytag: member="OA6::getBatteryVoltage" ref="dc67302912bc7628529e2ee10f3326b2" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double OA6::getBatteryVoltage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>Battery voltage </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="1dacfa089e88cad533c534693ff8006c"></a><!-- doxytag: member="OA6::getSuctionEffort" ref="1dacfa089e88cad533c534693ff8006c" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">double OA6::getSuctionEffort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>Current suction regulator pressure ( 0 - 120 psi) </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ec4658535456bcc27b3a80bbd6b1aadd"></a><!-- doxytag: member="OA6::getLedPowerLevel" ref="ec4658535456bcc27b3a80bbd6b1aadd" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::getLedPowerLevel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>Current nosecam LED power setting (0 - 10V) </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2bc93fb64816336bf73a0f58f631641b"></a><!-- doxytag: member="OA6::getEnvSensorData" ref="2bc93fb64816336bf73a0f58f631641b" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Vector&lt;16&gt; OA6::getEnvSensorData           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
return Environment sensor readings     </td>
  </tr>
</table>
<a class="anchor" name="e424078307d53da0abbe8bf493a40056"></a><!-- doxytag: member="OA6::getDesiredPosition" ref="e424078307d53da0abbe8bf493a40056" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Vector&lt;10&gt; OA6::getDesiredPosition           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The desired actuator position (rad, cm). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="6b6fbdfd4f78b7e90540398674efb89d"></a><!-- doxytag: member="OA6::getCurrentPosition" ref="6b6fbdfd4f78b7e90540398674efb89d" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Vector&lt;10&gt; OA6::getCurrentPosition           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The current actuator positions (rad, cm). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="d43c03178c8e02fd5d560d83c422872a"></a><!-- doxytag: member="OA6::getCurrentVelocity" ref="d43c03178c8e02fd5d560d83c422872a" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Vector&lt;10&gt; OA6::getCurrentVelocity           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The current time derivative of actuator position (rad/s, cm/s). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="db4be22a5c2be0a4d201a1db10f63888"></a><!-- doxytag: member="OA6::getActuatorEffort" ref="db4be22a5c2be0a4d201a1db10f63888" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">Vector&lt;10&gt; OA6::getActuatorEffort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>The current effort applied to actuators. (N-m, psi). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="51b98c11bef266f9d3a4c208adaf36e0"></a><!-- doxytag: member="OA6::calibrate" ref="51b98c11bef266f9d3a4c208adaf36e0" args="(Vector&lt; 10 &gt; &amp;position)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void OA6::calibrate           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>position</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Hard set the actuator position. This will reset encoders to an appropriate calculated value. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>position</em>&nbsp;</td><td>Actuator position (rad, cm) (input). </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="6554ab844752604e2838fc9a9f85983e"></a><!-- doxytag: member="OA6::enableArmPower" ref="6554ab844752604e2838fc9a9f85983e" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void OA6::enableArmPower           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Power up all electronics on the arm.     </td>
  </tr>
</table>
<a class="anchor" name="d778fda505339aa76d50a6ed5331cbe5"></a><!-- doxytag: member="OA6::disableArmPower" ref="d778fda505339aa76d50a6ed5331cbe5" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void OA6::disableArmPower           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Turn off power to the arm.     </td>
  </tr>
</table>
<a class="anchor" name="497352635a6601fe562d4210c1ae25ef"></a><!-- doxytag: member="OA6::isArmPowerEnabled" ref="497352635a6601fe562d4210c1ae25ef" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool OA6::isArmPowerEnabled           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>True if arm power is enabled, else false. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="232678f6f744aae97de8f9ec9a799f78"></a><!-- doxytag: member="OA6::reset" ref="232678f6f744aae97de8f9ec9a799f78" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void OA6::reset           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset robot internal state.     </td>
  </tr>
</table>
<a class="anchor" name="c5d606ea506a04ffd08fcaaf815ca74f"></a><!-- doxytag: member="OA6::startShutdown" ref="c5d606ea506a04ffd08fcaaf815ca74f" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void OA6::startShutdown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Begin shutdown procedure. Disconnects from trajectory generator. 
<p>
Implements <a class="el" href="classSubSystem.htm#36b1a18f3f7c7ed6d711323d8419c4be">SubSystem</a>.    </td>
  </tr>
</table>
<a class="anchor" name="5632e2ca7f72cd0f7c8d4f10f67f6857"></a><!-- doxytag: member="OA6::shutdown" ref="5632e2ca7f72cd0f7c8d4f10f67f6857" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void OA6::shutdown           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The shutdown procedure. Stops QMotor control loop and shuts down manipulator. 
<p>
Implements <a class="el" href="classSubSystem.htm#f6d0513ebd08b6483fbe82d4737db876">SubSystem</a>.    </td>
  </tr>
</table>
<a class="anchor" name="78a25f320b8e73e166e99670e37535a2"></a><!-- doxytag: member="OA6::setSimulationModeOn" ref="78a25f320b8e73e166e99670e37535a2" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::setSimulationModeOn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Swtich to simulation mode. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="26dc3ce4fc3725c8321e15b559c92da3"></a><!-- doxytag: member="OA6::setSimulationModeOff" ref="26dc3ce4fc3725c8321e15b559c92da3" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::setSimulationModeOff           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Swtich to hardware mode. In case of error mode is not switched. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="5d21f8d2737d84d5c665d9dc62c06c56"></a><!-- doxytag: member="OA6::isSimulationModeOn" ref="5d21f8d2737d84d5c665d9dc62c06c56" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool OA6::isSimulationModeOn           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if output mode is simulation, false if output mode is hardware. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e87811431a701b493f48a343a5c2242c"></a><!-- doxytag: member="OA6::isRunning" ref="e87811431a701b493f48a343a5c2242c" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual bool OA6::isRunning           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>true if control loop is still running. </dd></dl>

<p>
Implements <a class="el" href="classSubSystem.htm#77f3ab472adf93753104b019164668a7">SubSystem</a>.    </td>
  </tr>
</table>
<a class="anchor" name="d173b6fe84801c785dbdc4d962d2f6f6"></a><!-- doxytag: member="OA6::getQmotorControlProgram" ref="d173b6fe84801c785dbdc4d962d2f6f6" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">ControlProgram* OA6::getQmotorControlProgram           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Returns:</b></dt><dd>Pointer to QMotor control program. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="91910f363eac341c8a38e38385704857"></a><!-- doxytag: member="OA6::releaseAirPressure" ref="91910f363eac341c8a38e38385704857" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void OA6::releaseAirPressure           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Open up the pressure regulators for 4 seconds to empty out the actuators. Arm power will be disabled after pressure release. NOTE: This function will do nothing in simulation mode.     </td>
  </tr>
</table>
<a class="anchor" name="83c59d3a5a3e2336ae41a510b2a4dabf"></a><!-- doxytag: member="OA6::isPositionWithinLimits" ref="83c59d3a5a3e2336ae41a510b2a4dabf" args="(Vector&lt; 10 &gt; &amp;pos, int &amp;actuatorMask)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool OA6::isPositionWithinLimits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>pos</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>actuatorMask</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>The actuator position (input). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>actuatorMask</em>&nbsp;</td><td>Bits 'OR'ed with 0 for actuators within limits, 1 otherwise, with bit0 = base motor. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if all actuators within their physical limits of movement, else false. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e20efea4e6daf17ab9fc46738d1ab17d"></a><!-- doxytag: member="OA6::isActuatorEffortWithinLimits" ref="e20efea4e6daf17ab9fc46738d1ab17d" args="(Vector&lt; 10 &gt; &amp;press, int &amp;actuatorMask)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool OA6::isActuatorEffortWithinLimits           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>press</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>actuatorMask</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>press</em>&nbsp;</td><td>Actuator torques (N-m), pressures (psi) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>actuatorMask</em>&nbsp;</td><td>Bits 'OR'ed with 0 for actuators within limits, 1 otherwise, with bit0 = base motor. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true if base motor torque and all actuator pneumatic pressures are within limits, else false. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e3682a718c0fe6895d7e90960ce405cb"></a><!-- doxytag: member="OA6::isActuatorFailed" ref="e3682a718c0fe6895d7e90960ce405cb" args="(Vector&lt; 10 &gt; &amp;desiredEffort, Vector&lt; 10 &gt; &amp;currentEffort, int &amp;actuatorMask)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">bool OA6::isActuatorFailed           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>desiredEffort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>currentEffort</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>int &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>actuatorMask</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Detect actuator failure - pressure loss due to a blowout or leak. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>desiredEffort</em>&nbsp;</td><td>setpoint actuator effort (torque, pressure) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>currentEffort</em>&nbsp;</td><td>actual actuator effort (torque, pressure) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>actuatorMask</em>&nbsp;</td><td>Bits 'OR'ed with 1 for faulty actuators, 0 otherwise, with bit0 = base motor. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if a failure was detected, else false. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="210574485ca9cf4e432722208935614c"></a><!-- doxytag: member="OA6::onControlProgramError" ref="210574485ca9cf4e432722208935614c" args="(int errorCode)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual void OA6::onControlProgramError           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>errorCode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sequence upon error in control program. ( Mostly call <a class="el" href="classOA6.htm#5632e2ca7f72cd0f7c8d4f10f67f6857">shutdown()</a> ). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>errorCode</em>&nbsp;</td><td>Control program error code (internally set). </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="9784e2b5d5ad799949bd76a746f8dc4b"></a><!-- doxytag: member="OA6::readConfiguration" ref="9784e2b5d5ad799949bd76a746f8dc4b" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::readConfiguration           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read the configuration file. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="0fffcc0af02822896eb3505e9ff49730"></a><!-- doxytag: member="OA6::enterControl" ref="0fffcc0af02822896eb3505e9ff49730" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::enterControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called before starting control loop. Register control parameters and some one time initializations. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="57e8621f7f638718601d8eeeac3ff283"></a><!-- doxytag: member="OA6::startControl" ref="57e8621f7f638718601d8eeeac3ff283" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::startControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after <a class="el" href="classOA6.htm#0fffcc0af02822896eb3505e9ff49730">enterControl()</a> and just before starting control loop. Initializations that must be done for every run of control loop is done here (such as call to <a class="el" href="classOA6.htm#232678f6f744aae97de8f9ec9a799f78">reset()</a>). <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="c8ded96bc2a3179414e19efa23beec28"></a><!-- doxytag: member="OA6::control" ref="c8ded96bc2a3179414e19efa23beec28" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::control           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The main control loop. Runs in a separate thread at a fixed frequency and priority. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="a32a1fd6ef68c0f54a4015fa0be6ef3a"></a><!-- doxytag: member="OA6::stopControl" ref="a32a1fd6ef68c0f54a4015fa0be6ef3a" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::stopControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called at the end of a control run. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ab34be3d8e53b8ad07ed15d05978b275"></a><!-- doxytag: member="OA6::exitControl" ref="ab34be3d8e53b8ad07ed15d05978b275" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::exitControl           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Called after <a class="el" href="classOA6.htm#a32a1fd6ef68c0f54a4015fa0be6ef3a">stopControl()</a>. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, else error (<a class="el" href="classOA6.htm#210574485ca9cf4e432722208935614c">onControlProgramError()</a> is called). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="e8a027aa1341010ad743eb52097efc64"></a><!-- doxytag: member="OA6::handleMessage" ref="e8a027aa1341010ad743eb52097efc64" args="(pid_t pid, char *message)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::handleMessage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">pid_t&nbsp;</td>
          <td class="mdname" nowrap> <em>pid</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>message</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Handle client messages. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>Process ID of the sending process (internally set). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>message</em>&nbsp;</td><td>The message buffer (internally set). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success (proceed with control), else -1 (terminate control). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="4687b48d503f8f12705ff2281ed590ce"></a><!-- doxytag: member="OA6::localInit" ref="4687b48d503f8f12705ff2281ed590ce" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual int OA6::localInit           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
All one-time class initializations. (Rest are done in <a class="el" href="classOA6.htm#232678f6f744aae97de8f9ec9a799f78">reset()</a>). This will start the QMotor control thread. <dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2bbc46956faa0cb6cb7961489f128d5f"></a><!-- doxytag: member="OA6::registerQmotorParameters" ref="2bbc46956faa0cb6cb7961489f128d5f" args="(ControlProgram *cp)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::registerQmotorParameters           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ControlProgram *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>cp</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The following control parameters are registered with the main QMotor control loop. <ul>
<li>
encoderCountsPerUnitMotion: Encoder counts per radian of motor rotation or per centimeter of cable extension (Vector&lt;10&gt;) </li>
<li>
effortLimitsExceedTime: Time period for which actuator torque/pressures are allowed to exceed limits (seconds). </li>
<li>
effortErrorLimit: max allowed error between desired and actual effort (Vector&lt;10&gt;). </li>
<li>
effortErrorLimitExceedTime: Time period for which actuator torque/pressures erros are allowed to exceed limits (seconds). </li>
<li>
pressureSensorPsiPerVolt: conversion factor for regulator feedback input (psi/volt) </li>
<li>
actuatorVoltsPerEffort: Torque to voltage (volts/N-m), or pressure to voltage output factor (volts/psi) (Vector&lt;10&gt;). </li>
<li>
maxDacVolts: Absolute max voltage level of DACs for each actuator( Vector&lt;10&gt; volts). (volts/psi) (Vector&lt;10&gt;). </li>
<li>
suckerVoltsPerEffort: Same as above, for the sucker (double) </li>
<li>
desiredPositionFilterCutoffHz: Setpoint filter cut off frequency (hz). </li>
<li>
battSenseToVoltageFactor: mult. factor to convert battery sense reading to actual battery voltage (double) </li>
<li>
ledPowGain: mult. factor for LED pow level to voltage signal (double) </li>
</ul>
The following log variables are registered. <ul>
<li>
position - actuator positions (Vector&lt;10&gt;, rad, cm) </li>
<li>
velocity - actuator velocities (Vector&lt;10&gt;, rad/s, cm/s) </li>
<li>
desiredPosition - desired actuator positions (Vector&lt;10&gt;, rad, cm) </li>
<li>
encoder - encoder readings (Vector&lt;10&gt;) </li>
<li>
effortFeedback - actual actuator effort (Vector&lt;10&gt;, N-m, psi). </li>
<li>
controlEffort - applied actuator effort (Vector&lt;10&gt;, N-m, psi). </li>
<li>
controlVoltage - actuator voltages (Vector&lt;10&gt;, volts). </li>
<li>
envSense - environment sensor output (Vector&lt;16&gt;, volts) </li>
<li>
desiredSuction - desired suction effort (double) </li>
<li>
suction - actual suction effort (double) </li>
<li>
desiredLedPower - nosecam LED power level (char) </li>
<li>
batteryVoltage - battery voltage (double) </li>
</ul>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cp</em>&nbsp;</td><td>A pointer to main qmotor control loop. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="2562d591c87d3de03060e327cdc90632"></a><!-- doxytag: member="OA6::readGlobalConfiguration" ref="2562d591c87d3de03060e327cdc90632" args="()" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::readGlobalConfiguration           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function will search in the "OA6" section of the global configuration (See Octor::setGlobalConfigurationFile() ) for the following additional constants. <ul>
<li>
ioBoard0ServerName - IO board server 1 name (qrts/iobs0) </li>
<li>
ioBoard1ServerName - IO board server 2 name (qrts/iobs1) </li>
<li>
demux0ServerName - Demux for env sensors (/dm0) </li>
<li>
demux1ServerName - Demux for pressure sensing (/dm1) </li>
<li>
motorServerName - Base motor controller server (/mmc0) </li>
<li>
outputMode - output mode (simulation(default), hardware). </li>
<li>
velocityOberverGains - gains for the velocity observer (double[3]) </li>
</ul>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="af5e7f16f79fdb4eddeaf29423728caa"></a><!-- doxytag: member="OA6::readEnvSensors" ref="af5e7f16f79fdb4eddeaf29423728caa" args="(Vector&lt; 16 &gt; &amp;e)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::readEnvSensors           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 16 &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>e</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read environment sensor voltages <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>e</em>&nbsp;</td><td>Updated voltages from the environment sensors (V) (output). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="6a36fbaeeaa2321695bd5a7b7d3ab2ed"></a><!-- doxytag: member="OA6::readBatteryVoltage" ref="6a36fbaeeaa2321695bd5a7b7d3ab2ed" args="(double &amp;b)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::readBatteryVoltage           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">double &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>b</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read voltage input to PC104 computer stack. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>Updated battery voltage (output). </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="411f205428b9db30dc2f8276778d6c69"></a><!-- doxytag: member="OA6::readActuatorPosition" ref="411f205428b9db30dc2f8276778d6c69" args="(Vector&lt; 10 &gt; &amp;l)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::readActuatorPosition           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>l</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read encoders and convert to motor and actuator position. This function is called every control loop <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>l</em>&nbsp;</td><td>Updated actuator positions. </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="752e6c50d228bad000acfdd6c6ea8a38"></a><!-- doxytag: member="OA6::readActuatorEffort" ref="752e6c50d228bad000acfdd6c6ea8a38" args="(Vector&lt; 10 &gt; &amp;actuators, double &amp;sucker)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int OA6::readActuatorEffort           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">Vector&lt; 10 &gt; &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>actuators</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td class="md"></td>
          <td class="md" nowrap>double &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>sucker</em></td>
        </tr>
        <tr>
          <td class="md"></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"><code> [protected]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Read muscle pressures and motor torque and read sucker regulator pressure (0 - 120 psi). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>actuators</em>&nbsp;</td><td>Updated actuator torques/pressures </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sucker</em>&nbsp;</td><td>Updated sucker regulator pressure </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on error. </dd></dl>
    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="OA6_8hpp-source.htm">OA6.hpp</a></ul>
<hr>
Created for project <code><font color="red"><b>Octarm VI On-board Control System</b></font></code> on Fri Apr 14 21:18:14 EDT 2006
<br>
 for Vilas Kumar Chitrakaran (cvilas(@)ces.clemson.edu). 
<br>
Documentation generated using <a href=http://www.doxygen.org>Doxygen</a>
.
</body>
</html>
