<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PotVal Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Wed Jul 2 17:02:29 2003 -->
<h1>PotVal  Class Reference</h1>Class for calibration of potentiometers in Puma560. 
<a href="#_details">More...</a>
<p>
<a href="class_PotVal-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a0">PotVal</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a1">PotVal</a> (const char *objectName)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a2">~PotVal</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a3">startRecording</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a4">stopRecording</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a5">setRecordingFrequency</a> (double frequency)</td></tr>
<tr><td nowrap align=right valign=top>int&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a6">linearInterpolate</a> (Vector&lt;6&gt; &amp;slope, Vector&lt;6&gt; &amp;intercept)</td></tr>
<tr><td nowrap align=right valign=top>Vector&lt;6, int&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a7">getEncoderIndexPosition</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a8">filePotEncoderData</a> (int jointNumber, char *filename)</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a9">control</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual int&nbsp;</td><td valign=bottom><a class="el" href="class_PotVal.html#a10">startControl</a> ()</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Class for calibration of potentiometers in Puma560.
<p>
This class provides methods for calibration of potentiometer intercept (encoder reading at zero pot) and potentiometer slope (relation between pot reading and encoder reading) values for the robot. The class also provides a method to determine the position of first encoder index pulse  from initial position of manipulator. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="PotVal::PotVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
PotVal (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The default constructor for the PotVal object. This constructor just calls the constructor of Puma560 class.     </td>
  </tr>
</table>
<a name="a1" doxytag="PotVal::PotVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
PotVal (
          </b></td>
          <td valign="bottom"><b>
const char * <em>objectName</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constructor allows you to specify the object name. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>objectName</em>
&nbsp;</td><td>
 Object name, identical with the section name in the global configuration file. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="PotVal::~PotVal"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
~PotVal (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The destructor cleans up memory.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="PotVal::startRecording"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void startRecording (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Starts recording pot values and encoder values.     </td>
  </tr>
</table>
<a name="a4" doxytag="PotVal::stopRecording"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void stopRecording (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Stops recording pot values and encoder values.     </td>
  </tr>
</table>
<a name="a5" doxytag="PotVal::setRecordingFrequency"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setRecordingFrequency (
          </b></td>
          <td valign="bottom"><b>
double <em>frequency</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the number of records taken per second. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>frequency</em>
&nbsp;</td><td>
 User specified frequency in Hz. There is an upper bound to the frequency since the buffer size for each joint is 512. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="PotVal::linearInterpolate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int linearInterpolate (
          </b></td>
          <td valign="bottom"><b>
Vector&lt; 6 &gt;&amp; <em>slope</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
Vector&lt; 6 &gt;&amp; <em>intercept</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function calculates the pot slope and pot intercept from the recorded values of pots and encoders.     </td>
  </tr>
</table>
<a name="a7" doxytag="PotVal::getEncoderIndexPosition"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Vector&lt; 6,int &gt; getEncoderIndexPosition (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function must be called at the end of calibration only. <dl compact><dt>
<b>Returns: </b><dd>
 first occurance of index position during recording of  pot and encoder values. </dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="PotVal::filePotEncoderData"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void filePotEncoderData (
          </b></td>
          <td valign="bottom"><b>
int <em>jointNumber</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
char * <em>fileName</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function makes an ascii file with interleaved values of pot and encoder reading. This function is useful when data points are required to make plots in MATLAB, etc.This function must be called only at the end of calibration. The function creates a new file every time it is called. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>jointNumber</em>
&nbsp;</td><td>
 The joint for which data must be stored. filename The filename under which data will be stored. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a9" doxytag="PotVal::control"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int control (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reimplementation of the Qmotor function with added functionality.     </td>
  </tr>
</table>
<a name="a10" doxytag="PotVal::startControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
int startControl (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reimplementation of the Qmotor function with added functionality.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="potval_cpp-source.html">potval.cpp</a></ul>
</body>
</html>
