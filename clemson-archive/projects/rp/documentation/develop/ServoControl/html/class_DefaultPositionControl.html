<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>DefaultPositionControl Template Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Tue Sep 18 06:17:45 2001 -->
<h1>DefaultPositionControl  Class Template Reference</h1>Default position tracking controller. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="DefaultPositionControl_hpp-source.html">DefaultPositionControl.hpp</a>&gt;</code>
<p>
<p>Inheritance diagram for DefaultPositionControl:
<p><center><img src="class_DefaultPositionControl.gif" usemap="#DefaultPositionControl_map" border="0"></center>
<map name="DefaultPositionControl_map">
<area href="class_ServoControl.html" alt="ServoControl" shape="rect" coords="0,0,137,24">
</map>
<a href="class_DefaultPositionControl-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a0">DefaultPositionControl</a> (const char *objectName)</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a1">DefaultPositionControl</a> (int numInConfig = 1)</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a2">~DefaultPositionControl</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual const TypeInfo*&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a3">getTypeInfo</a> () const</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a4">registerControlProgramVariables</a> ( ControlProgram *controlProgram)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a5">reset</a> (OpenArchitectureManipulator *manipulator)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a6">calculateControlCycle</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a7">setCartesianControlMode</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#a8">setJointControlMode</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>TypeInfoT&lt;DefaultPositionControl&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#p0">s_typeInfo</a></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_DefaultPositionControl.html#b0">DefaultPositionControl</a> (const TypeInfo *parent)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;int numJoints&gt;  template class DefaultPositionControl</h3>

Default position tracking controller.
<p>
The class DefaultPositionControl implements a PID position tracking controller. Open architecture manipulator is  connected to an object of this type by default, unless an alternate controller is specified.
<p>
<b>Example Program:</b> See the example program of the class <a class="el" href="class_ServoControl.html">ServoControl</a>. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="DefaultPositionControl::DefaultPositionControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
DefaultPositionControl (
          </b></td>
          <td valign="bottom"><b>
const char * <em>objectName</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constructor allows you to specify the object name. If the section in the global configuration file specified by the object name has the class name "StaticObject", then the settings of this section are used to setup the object. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>objectName</em>
&nbsp;</td><td>
 Object name, identical with the section name in the global configuration file. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a1" doxytag="DefaultPositionControl::DefaultPositionControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
DefaultPositionControl (
          </b></td>
          <td valign="bottom"><b>
int <em>numInConfig</em> = 1&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constructor allows you to specify the number of the object in the global configuration file that specifies the class name "StaticObject". The settings of this object in the global configuration are used to setup the object. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>numInConfig</em>
&nbsp;</td><td>
 Number of the object in the global configuration file (only objects of the correct class type are counted), starting at "1". </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="b0" doxytag="DefaultPositionControl::DefaultPositionControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
DefaultPositionControl (
          </b></td>
          <td valign="bottom"><b>
const TypeInfo * <em>parent</em>&nbsp;)<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The constructor performs no action. This constructor is only called from the constructor of a derived class.     </td>
  </tr>
</table>
<a name="a2" doxytag="DefaultPositionControl::~DefaultPositionControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
~DefaultPositionControl (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The destructor performs no action.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="DefaultPositionControl::getTypeInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const TypeInfo * getTypeInfo (
          </b></td>
          <td valign="bottom"><b>
) const<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the type info of the class. <dl compact><dt>
<b>See also: </b><dd>
 RoboticObject::getTypeInfo() </dl>
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a0">ServoControl</a>.    </td>
  </tr>
</table>
<a name="a4" doxytag="DefaultPositionControl::registerControlProgramVariables"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void registerControlProgramVariables (
          </b></td>
          <td valign="bottom"><b>
ControlProgram * <em>controlProgram</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Registers the log variables and control parameteres related to the servo control in the QMotor control program. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>controlProgram</em>
&nbsp;</td><td>
 A pointer to the control program. </td></tr>
</table>
</dl>
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a1">ServoControl</a>.    </td>
  </tr>
</table>
<a name="a5" doxytag="DefaultPositionControl::reset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void reset (
          </b></td>
          <td valign="bottom"><b>
OpenArchitectureManipulator * <em>manipulator</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is called to reset the servo control. This happens when: <ul>
 <li>The servo control is connected to a new manipulator. <li>The manipulator position has changed abruptly. This can be the case because the manipulator was calibrated to a new  position, or this servo control had been disabled for a while and the manipulator was moved during this time (e.g., when using zero gravity teaching). &lt;\ul&gt; A derived class should get the new position from the  Manipulator object and initialize internal variables (e.g., filters, integrators, and differentiators) to this new position to avoid any unexpected manipulator movement. If used within a  Qmotor control program, this function needs to be called in its startControl() so that Qmotor parameters are passed correctly. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>manipulator</em>
&nbsp;</td><td>
 A pointer to the manipulator object. </td></tr>
</table>
</dl>
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a2">ServoControl</a>.    </td>
  </tr>
</table>
<a name="a6" doxytag="DefaultPositionControl::calculateControlCycle"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void calculateControlCycle (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function is called every cycle of a manipulator control loop. It calculates one cycle of the servo control algorithm, then forwards the control signal to the manipulator. 
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a3">ServoControl</a>.    </td>
  </tr>
</table>
<a name="a7" doxytag="DefaultPositionControl::setCartesianControlMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setCartesianControlMode (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The servo controller is set to cartesian mode. In this mode the servo controller responds to end-effector position error defined in cartesian co-ordinates. Not all servo controllers can switch between cartesian and joint control. The derived class must therefore implement this function, as well as the default mode of operation of the controller. This class sets the default mode to joint level control. 
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a5">ServoControl</a>.    </td>
  </tr>
</table>
<a name="a8" doxytag="DefaultPositionControl::setJointControlMode"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setJointControlMode (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
In joint control mode, the servo controller responds to position error defined in joint space ( angle of each joint of the manipulator). The derived class must therefore implement this function, as well as the default mode of operation of the controller. This class sets the default mode to joint level control. 
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#a6">ServoControl</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="p0" doxytag="DefaultPositionControl::s_typeInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
TypeInfoT&lt; DefaultPositionControl &gt; s_typeInfo<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The static type info object of the class. Every class derived from RoboticObject must have this static data member and initialize it correctly. 
<p>
Reimplemented from <a class="el" href="class_ServoControl.html#p0">ServoControl</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="DefaultPositionControl_hpp-source.html">DefaultPositionControl.hpp</a></ul>
</body>
</html>
