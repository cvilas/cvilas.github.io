<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Integrator Template Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Thu Jul 19 13:03:31 2001 -->
<h1>Integrator  Class Template Reference</h1>The class <code>Integrator</code> uses the trapeziodal rule as a numerical method for integration by default. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="Integrator_hpp-source.html">Integrator.hpp</a>&gt;</code>
<p>
<a href="class_Integrator-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a0">Integrator</a> ()</td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a1">Integrator</a> (double samplingPeriod, const T &amp;initialValue)</td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a2">~Integrator</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a3">setSamplingPeriod</a> (double samplingPeriod)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a4">setInitialValue</a> (const T &amp;initialValue)</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a5">reset</a> (T &amp;resetToValue)</td></tr>
<tr><td nowrap align=right valign=top>virtual T&nbsp;</td><td valign=bottom><a class="el" href="class_Integrator.html#a6">integrate</a> (T &amp;currentInput)</td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class T = double&gt;  template class Integrator</h3>

The class <code>Integrator</code> uses the trapeziodal rule as a numerical method for integration by default.
<p>
The user can derive and define a more suitable method for integration  if desired. The class <code>Integrator</code> can be used with any data type (double, int, <a class="el" href="class_RowVector.html">RowVector</a>, <a class="el" href="class_ColumnVector.html">ColumnVector</a>, <a class="el" href="class_Matrix.html">Matrix</a>, etc).
<p>
<b>Example Program:</b>
<p>
<div class="fragment"><pre><font class="comment">//========================================================================</font>
<font class="comment">// Project: Robotic Platform</font>
<font class="comment">// ----------------------------------------------------------------------</font>
<font class="comment">// Package      : The Math Library</font>
<font class="comment">// Authors      : Vilas Kumar Chitrakaran</font>
<font class="comment">// Start Date   : Wed Dec 20 11:08:28 GMT 2000</font>
<font class="comment">// Compiler     : GNU c++</font>
<font class="comment">// Operating System : QNX RTP</font>
<font class="comment">// ----------------------------------------------------------------------</font>
<font class="comment">// File: Integrator.t.cpp</font>
<font class="comment">// Example program for the Integrator.</font>
<font class="comment">//========================================================================</font>

<font class="comment">//========================================================================</font>
<font class="comment">// Integrator.t.cpp</font>
<font class="comment">//------------------------------------------------------------------------</font>
<font class="comment">// \brief</font>
<font class="comment">// The file Integrator.t.cpp is an example program that tests the integrator</font>
<font class="comment">// related functions provided in the Math Library for the Robotic Platform.</font>
<font class="comment">//</font>
<font class="comment">// The example shows how to integrate data types such as column-vectors</font>
<font class="comment">// and row-vectors.</font>
<font class="comment">//========================================================================</font>

<font class="preprocessor">#include "Integrator.hpp"</font>
<font class="preprocessor">#include "ColumnVector.hpp"</font>

<font class="preprocessor">#include &lt;iostream.h&gt;</font>
<font class="preprocessor">#include &lt;stdio.h&gt;</font>
<font class="preprocessor">#include &lt;math.h&gt;</font>
<font class="preprocessor">#include &lt;stdlib.h&gt;</font>

<font class="preprocessor">#define PI 3.141592654</font>
<font class="preprocessor"></font>

<font class="keywordtype">int</font> main()<font class="keyword"></font>
<font class="keyword"></font>{
  FILE *infile, *outfile;
  <font class="comment">// These files hold the input and output waveforms.</font>
  
  infile = fopen(<font class="stringliteral">"velocityInput.dat"</font>, <font class="stringliteral">"w+"</font>);
    outfile = fopen(<font class="stringliteral">"positionOutput.dat"</font>, <font class="stringliteral">"w+"</font>);
  
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;3&gt;</a> velocity;
  <font class="comment">// Lets assume this column-vector holds </font>
  <font class="comment">// velocity information at three joints of a robot.</font>
  
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;3&gt;</a> position;
  <font class="comment">// Lets assume this column-vector holds </font>
  <font class="comment">// position information at three joints of a robot,</font>
  <font class="comment">// obtained by integrating the 'velocity' vector.</font>

  <font class="comment">// Define an integrator with a sampling period of 1 milli-second</font>
  <font class="comment">// and an initial value of 0 (defined by the initialPositionValue vector).</font>
  <a class="code" href="class_ColumnVector.html">ColumnVector&lt;3&gt;</a> initialPositionValue;
  initialPositionValue = 0,0,0;
  <a class="code" href="class_Integrator.html">Integrator&lt; ColumnVector&lt;3&gt;</a> &gt; myIntegrator(0.001,initialPositionValue);

  
  <font class="keywordflow">for</font> (<font class="keywordtype">int</font> i=0; i&lt;1000; i++)
  { 
    velocity(1) = sin(2*PI*i/1000);
    velocity(2) = 1.5; <font class="comment">// constant velocity of 1.5.</font>
    velocity(3) = 2*i/1000.0; <font class="comment">//constant acceleration.</font>

    position = myIntegrator.integrate(velocity);
    <font class="comment">// Integrate the input signal</font>

    <font class="comment">// simply write the outputs to a file and check it using matlab... </font>
    <font class="comment">// Note that each file holds elements of the columnVector sequentially for a </font>
    <font class="comment">// particular time..ie..[element1 element2 element3 element1...] and so on.</font>
  
    fprintf(infile, <font class="stringliteral">"%f \n"</font>, velocity(1));
    fprintf(infile, <font class="stringliteral">"%f \n"</font>, velocity(2));
    fprintf(infile, <font class="stringliteral">"%f \n"</font>, velocity(3));

    fprintf(outfile, <font class="stringliteral">"%f \n"</font>, position(1));
    fprintf(outfile, <font class="stringliteral">"%f \n"</font>, position(2));
    fprintf(outfile, <font class="stringliteral">"%f \n"</font>, position(3));
  }

  fclose(infile);
  fclose(outfile);

  <font class="keywordflow">return</font>(0);
}



</div></pre> 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="a0" doxytag="Integrator::Integrator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Integrator (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The default constructor. The sampling period is set to  default of 0.001 seconds. The initial value is set to 0.     </td>
  </tr>
</table>
<a name="a1" doxytag="Integrator::Integrator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
Integrator (
          </b></td>
          <td valign="bottom"><b>
double <em>samplingPeriod</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
const T &amp; <em>initialValue</em>&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The constructor to initialize the sampling period  and initial Value. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>samplingPeriod</em>
&nbsp;</td><td>
 The sampling period of the  integrator in seconds. </td></tr>
<tr><td valign=top><em>initialValue</em>
&nbsp;</td><td>
 The initial value at the start of integration. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a2" doxytag="Integrator::~Integrator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
~Integrator (
          </b></td>
          <td valign="bottom"><b>
)<code> [inline, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The default destructor.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="a3" doxytag="Integrator::setSamplingPeriod"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setSamplingPeriod (
          </b></td>
          <td valign="bottom"><b>
double <em>samplingPeriod</em>&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the sampling period of the integrator  <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>samplingPeriod</em>
&nbsp;</td><td>
 The sampling period of the  integrator in seconds. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a4" doxytag="Integrator::setInitialValue"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setInitialValue (
          </b></td>
          <td valign="bottom"><b>
const T &amp; <em>initialValue</em>&nbsp;)<code> [inline]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the initial value of the integrator <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>initialValue</em>
&nbsp;</td><td>
 The initial value at the start of integration. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a5" doxytag="Integrator::reset"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void reset (
          </b></td>
          <td valign="bottom"><b>
T &amp; <em>resetToValue</em>&nbsp;)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function resets the output of the Integrator to the value <em>resetToValue</em> and further integration restarts from this initial value. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>resetToValue</em>
&nbsp;</td><td>
 The value to which the integrator output is reset to. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<a name="a6" doxytag="Integrator::integrate"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
T integrate (
          </b></td>
          <td valign="bottom"><b>
T &amp; <em>currentInput</em>&nbsp;)<code> [inline, virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function provides the numerical  method for integration. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>currentInput</em>
&nbsp;</td><td>
 The current value of the  time-varying signal to be integrated. The user can override the default trapezoidal rule for a more suitable integration method if desired. </td></tr>
</table>
</dl>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Integrator_hpp-source.html">Integrator.hpp</a></ul>
</body>
</html>
