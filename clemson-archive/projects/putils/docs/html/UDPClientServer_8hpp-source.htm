<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>POSIX Utilities Package 2.2: UDPClientServer.hpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.6 -->
<div class="tabs">
  <ul>
    <li><a href="index.htm"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.htm"><span>Classes</span></a></li>
    <li id="current"><a href="files.htm"><span>Files</span></a></li>
  </ul></div>
<h1>UDPClientServer.hpp</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef _UDPCLIENTSERVER_HPP_INCLUDED</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define _UDPCLIENTSERVER_HPP_INCLUDED</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;sys/time.h&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
<a name="l00007"></a>00007 <span class="preprocessor">#include &lt;sys/socket.h&gt;</span>
<a name="l00008"></a>00008 <span class="preprocessor">#include &lt;netinet/in.h&gt;</span>
<a name="l00009"></a>00009 <span class="preprocessor">#include &lt;arpa/inet.h&gt;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &lt;netdb.h&gt;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &lt;errno.h&gt;</span>
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;malloc.h&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;unistd.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;fcntl.h&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00018"></a>00018 
<a name="l00019"></a>00019 <span class="preprocessor">#include "StatusReport.hpp"</span>
<a name="l00020"></a>00020 
<a name="l00037"></a><a class="code" href="classUDPServer.htm">00037</a> <span class="keyword">class </span><a class="code" href="classUDPServer.htm">UDPServer</a>
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039   <span class="keyword">public</span>:
<a name="l00040"></a>00040     <a class="code" href="classUDPServer.htm#5f9126e71c6938ff1d0794ebcb579a8e">UDPServer</a>();
<a name="l00044"></a>00044     <a class="code" href="classUDPServer.htm#5f9126e71c6938ff1d0794ebcb579a8e">UDPServer</a>(<span class="keywordtype">int</span> port, <span class="keywordtype">int</span> maxMsgSize, <span class="keywordtype">int</span> bdp=0);
<a name="l00061"></a>00061     <span class="keyword">virtual</span> <a class="code" href="classUDPServer.htm#8a273698d4803bd48c01c958ab861b9c">~UDPServer</a>();
<a name="l00065"></a>00065     <span class="keywordtype">int</span> <a class="code" href="classUDPServer.htm#a3bbb6950bb5b54df64b32b6e3014c9d">init</a>(<span class="keywordtype">int</span> port, <span class="keywordtype">int</span> maxMsgSize, <span class="keywordtype">int</span> bdp=0);
<a name="l00083"></a>00083     <span class="keywordtype">void</span> <a class="code" href="classUDPServer.htm#8321b0cf1ca5c03af0d063b2e4e454b5">doMessageCycle</a>();
<a name="l00090"></a>00090     <span class="keywordtype">int</span> <a class="code" href="classUDPServer.htm#14ee63fe1ea19dac4bc4b1895cb173fb">getStatusCode</a>() <span class="keyword">const</span>;
<a name="l00094"></a>00094     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classUDPServer.htm#d45136ec7848f6a6f0b83b0dfe72f269">getStatusMessage</a>() <span class="keyword">const</span>;
<a name="l00098"></a>00098   <span class="keyword">protected</span>:
<a name="l00099"></a>00099     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classUDPServer.htm#36b046f001df923023a0c5ae5fae76bb">receiveAndReply</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *inMsgBuf, <span class="keywordtype">int</span> inMsgLen, <span class="keywordtype">int</span> *outMsgLen); 
<a name="l00117"></a>00117   <span class="keyword">private</span>:
<a name="l00118"></a>00118     <span class="keywordtype">void</span> setError(<span class="keywordtype">int</span> code, <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName); 
<a name="l00124"></a>00124     <span class="keywordtype">int</span> d_fd;
<a name="l00128"></a>00128     <span class="keywordtype">char</span> *d_rcvBuf;
<a name="l00132"></a>00132     <span class="keywordtype">int</span> d_rcvBufSize;
<a name="l00136"></a>00136     <span class="keywordtype">bool</span> d_init;
<a name="l00140"></a>00140     <a class="code" href="classStatusReport.htm">StatusReport</a> d_status;
<a name="l00143"></a>00143 };
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00162"></a><a class="code" href="classUDPClient.htm">00162</a> <span class="keyword">class </span><a class="code" href="classUDPClient.htm">UDPClient</a>
<a name="l00163"></a>00163 {
<a name="l00164"></a>00164   <span class="keyword">public</span>:
<a name="l00165"></a>00165     <a class="code" href="classUDPClient.htm#8e66a3b64581f3040cd78f8379ddca9c">UDPClient</a>();
<a name="l00169"></a>00169     <a class="code" href="classUDPClient.htm#8e66a3b64581f3040cd78f8379ddca9c">UDPClient</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *serverIp, <span class="keywordtype">int</span> port, <span class="keyword">struct</span> timeval &amp;timeout, <span class="keywordtype">int</span> bdp=0);
<a name="l00191"></a>00191     <a class="code" href="classUDPClient.htm#34f070027c8fa69813efcf9100d7e35d">~UDPClient</a>();
<a name="l00195"></a>00195     <span class="keywordtype">int</span> <a class="code" href="classUDPClient.htm#61473d1ea02868ab4d2a26b964c4b51a">init</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *serverIp, <span class="keywordtype">int</span> port, <span class="keyword">struct</span> timeval &amp;timeout, <span class="keywordtype">int</span> bdp=0);
<a name="l00217"></a>00217     <span class="keywordtype">int</span> <a class="code" href="classUDPClient.htm#c94ac5c3d0d1961a0b91bf04f80329f5">getStatusCode</a>() <span class="keyword">const</span>;
<a name="l00221"></a>00221     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classUDPClient.htm#3629d6ba4e6a49d2f8f1c7c76a87c500">getStatusMessage</a>() <span class="keyword">const</span>;
<a name="l00225"></a>00225     <span class="keywordtype">int</span> <a class="code" href="classUDPClient.htm#190faefc150c24176d55cd82e373782f">sendAndReceive</a>(<span class="keywordtype">char</span> *outMsgBuf, <span class="keywordtype">int</span> outMsgLen, <span class="keywordtype">char</span> *inMsgBuf,
<a name="l00226"></a>00226                                           <span class="keywordtype">int</span> inBufLen, <span class="keywordtype">int</span> *inMsgLen);
<a name="l00249"></a>00249   <span class="keyword">private</span>:
<a name="l00250"></a>00250     <span class="keywordtype">void</span> setError(<span class="keywordtype">int</span> code, <span class="keyword">const</span> <span class="keywordtype">char</span> *functionName);
<a name="l00256"></a>00256     <span class="keyword">struct </span>sockaddr_in d_server;
<a name="l00260"></a>00260     <span class="keywordtype">char</span> *d_serverName;
<a name="l00264"></a>00264     <span class="keywordtype">int</span> d_serverPort;
<a name="l00268"></a>00268     <span class="keywordtype">int</span> d_fd;
<a name="l00272"></a>00272     <span class="keywordtype">int</span> d_bdp;
<a name="l00276"></a>00276     <span class="keywordtype">bool</span> d_init;
<a name="l00280"></a>00280     <span class="keyword">struct </span>timeval d_recvTimeout;
<a name="l00284"></a>00284     <a class="code" href="classStatusReport.htm">StatusReport</a> d_status;
<a name="l00287"></a>00287 };
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="preprocessor">#endif // _UDPCLIENTSERVER_HPP_INCLUDED</span>
<a name="l00291"></a>00291 <span class="preprocessor"></span>
</pre></div><hr>
Created for project <code><font color="red"><b>POSIX Utilities Package</b></font></code> on Sat Aug 26 17:12:56 EDT 2006
<br>
 for Vilas Kumar Chitrakaran (cvilas(@)ces.clemson.edu). 
<br>
Documentation generated using <a href=http://www.doxygen.org>Doxygen</a>
.
</body>
</html>
