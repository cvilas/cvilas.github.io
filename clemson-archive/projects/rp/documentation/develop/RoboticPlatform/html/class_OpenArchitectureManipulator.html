<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>OpenArchitectureManipulator Class Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Thu Jul 19 13:03:33 2001 -->
<h1>OpenArchitectureManipulator  Class Reference</h1>A base class for Open Architecture <a class="el" href="class_Manipulator.html">Manipulator</a>. 
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="OpenArchitectureManipulator_hpp-source.html">OpenArchitectureManipulator.hpp</a>&gt;</code>
<p>
<p>Inheritance diagram for OpenArchitectureManipulator:
<p><center><img src="class_OpenArchitectureManipulator.gif" usemap="#OpenArchitectureManipulator_map" border="0"></center>
<map name="OpenArchitectureManipulator_map">
<area href="class_Manipulator.html" alt="Manipulator" shape="rect" coords="0,112,180,136">
<area href="class_PhysicalObject.html" alt="PhysicalObject" shape="rect" coords="0,56,180,80">
<area href="class_RoboticObject.html" alt="RoboticObject" shape="rect" coords="0,0,180,24">
<area href="class_DefaultManipulator.html" alt="DefaultManipulator" shape="rect" coords="0,224,180,248">
<area href="class_Puma560.html" alt="Puma560" shape="rect" coords="0,280,180,304">
</map>
<a href="class_OpenArchitectureManipulator-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td colspan=2><br><h2>Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>virtual&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a0">~OpenArchitectureManipulator</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual const <a class="el" href="class_TypeInfo.html">TypeInfo</a>*&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a1">getTypeInfo</a> () const</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a2">setServoControl</a> (ServoControl &amp;servoControl)</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a3">setNoServoControl</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a4">setServoControlOn</a> ()</td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a5">setServoControlOff</a> ()</td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a6">isServoControlOn</a> ()</td></tr>
<tr><td nowrap align=right valign=top>ServoControl*&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a7">getServoControl</a> ()</td></tr>
<tr><td nowrap align=right valign=top>virtual double&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a8">getControlPeriod</a> () = 0</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a9">setJointControlOutput</a> (const <a class="el" href="class_VectorBase.html">VectorBase</a>&lt;&gt; &amp;controlOutput) = 0</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a10">setJointControlOutput</a> (int jointnumber, double controlOutput) = 0</td></tr>
<tr><td nowrap align=right valign=top>virtual void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#a11">getJointControlOutput</a> (<a class="el" href="class_VectorBase.html">VectorBase</a>&lt;&gt; &amp;controlOutput) = 0</td></tr>
<tr><td colspan=2><br><h2>Static Public Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>void&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#d0">setAutoEnableArmPowerOff</a> ()</td></tr>
<tr><td colspan=2><br><h2>Static Public Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top><a class="el" href="class_TypeInfoAbstractT.html">TypeInfoAbstractT</a>&lt;OpenArchitectureManipulator&gt;&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#p0">s_typeInfo</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#p1">s_setAutoEnableArmPowerOff</a></td></tr>
<tr><td colspan=2><br><h2>Protected Methods</h2></td></tr>
<tr><td nowrap align=right valign=top>&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#b0">OpenArchitectureManipulator</a> (const <a class="el" href="class_TypeInfo.html">TypeInfo</a> *parent)</td></tr>
<tr><td colspan=2><br><h2>Protected Attributes</h2></td></tr>
<tr><td nowrap align=right valign=top>ServoControl*&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#n0">d_servoControl</a></td></tr>
<tr><td nowrap align=right valign=top>bool&nbsp;</td><td valign=bottom><a class="el" href="class_OpenArchitectureManipulator.html#n1">d_servoControlEnabled</a></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A base class for Open Architecture <a class="el" href="class_Manipulator.html">Manipulator</a>.
<p>
This is a generic base class for Open Architecture Manipulators  (manipulators that can be servo controlled at the joint level). This  class sets the <em>ServoControl</em> object of the <a class="el" href="class_Manipulator.html">Manipulator</a>. The derived class <em><a class="el" href="class_DefaultManipulator.html">DefaultManipulator</a></em> implements all the other functions for an open  architecture manipulator. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a name="b0" doxytag="OpenArchitectureManipulator::OpenArchitectureManipulator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
OpenArchitectureManipulator (
          </b></td>
          <td valign="bottom"><b>
const <a class="el" href="class_TypeInfo.html">TypeInfo</a> * <em>parent</em>&nbsp;)<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constructor initializes class variables. This constructor is called only from a derived class     </td>
  </tr>
</table>
<a name="a0" doxytag="OpenArchitectureManipulator::~OpenArchitectureManipulator"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
~OpenArchitectureManipulator (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The destructor cleans up memory.     </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a name="d0" doxytag="OpenArchitectureManipulator::setAutoEnableArmPowerOff"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setAutoEnableArmPowerOff (
          </b></td>
          <td valign="bottom"><b>
)<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Arm power is enabled by default at the construction of the manipulator. Call this function before instantiating a manipulator to disable that feature.     </td>
  </tr>
</table>
<a name="a1" doxytag="OpenArchitectureManipulator::getTypeInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
const <a class="el" href="class_TypeInfo.html">TypeInfo</a> * getTypeInfo (
          </b></td>
          <td valign="bottom"><b>
) const<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the type info of the class. <dl compact><dt>
<b>See also: </b><dd>
 <a class="el" href="class_RoboticObject.html#a6">RoboticObject::getTypeInfo</a>() </dl>
<p>
Reimplemented from <a class="el" href="class_Manipulator.html#a1">Manipulator</a>.
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#a1">DefaultManipulator</a>, and <a class="el" href="class_Puma560.html#a3">Puma560</a>.    </td>
  </tr>
</table>
<a name="a2" doxytag="OpenArchitectureManipulator::setServoControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setServoControl (
          </b></td>
          <td valign="bottom"><b>
ServoControl &amp; <em>servoControl</em>&nbsp;)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets a new servo control. Note that automatically an  object of type PositionControl&lt;numJoints&gt; is being created at construction of the OpenArchitectureManipulator object.  Use this function to use a different servo control or  to switch between multiple servo controls.
<p>
<b>Example</b>
<p>
<div class="fragment"><pre>     Puma robot;
     ForceControl forceControl;  <font class="comment">// Imaginary force control class</font>
    
     <a class="code" href="class_DefaultTrajectoryGenerator.html">DefaultTrajectoryGenerator</a> tragen;
     robot.setTrajectoryGenerator(tragen);
    
     <font class="comment">// Move to the object</font>
     tragen.<a class="code" href="class_DefaultTrajectoryGenerator.html#a19">move</a>(object);
     
     <font class="comment">// Now switch to force control</font>
     robot.setServoControl(forceControl);</div></pre>     </td>
  </tr>
</table>
<a name="a3" doxytag="OpenArchitectureManipulator::setNoServoControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setNoServoControl (
          </b></td>
          <td valign="bottom"><b>
)<code> [virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Removes the association of the manipulator with the servo control.     </td>
  </tr>
</table>
<a name="a4" doxytag="OpenArchitectureManipulator::setServoControlOn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setServoControlOn (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Enables the servo control. In the manipulator's control cycle, the function calculateControlCycle() of the associated  servo control object will be called.     </td>
  </tr>
</table>
<a name="a5" doxytag="OpenArchitectureManipulator::setServoControlOff"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setServoControlOff (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disables the servo control. In the manipulator's control cycle, the function calculateControlCycle() of the associated  servo control object will not be called. Note that disabling the servo control does not remove the association with the servo control object. The servo control can be enabled any time with <a class="el" href="class_OpenArchitectureManipulator.html#a4">setServoControlOn</a>().     </td>
  </tr>
</table>
<a name="a6" doxytag="OpenArchitectureManipulator::isServoControlOn"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
bool isServoControlOn (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines if the servo control is currently enabled.     </td>
  </tr>
</table>
<a name="a7" doxytag="OpenArchitectureManipulator::getServoControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ServoControl * getServoControl (
          </b></td>
          <td valign="bottom"><b>
)
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines the servo control that is currently associated with the manipulator. <dl compact><dt>
<b>Returns: </b><dd>
 The currently associated servo control object. </dl>    </td>
  </tr>
</table>
<a name="a8" doxytag="OpenArchitectureManipulator::getControlPeriod"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
double getControlPeriod (
          </b></td>
          <td valign="bottom"><b>
)<code> [pure virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Returns the control period of the Qmotor Control Program that is associated with the manipulator. 
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#a36">DefaultManipulator</a>.    </td>
  </tr>
</table>
<a name="a9" doxytag="OpenArchitectureManipulator::setJointControlOutput"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setJointControlOutput (
          </b></td>
          <td valign="bottom"><b>
const <a class="el" href="class_VectorBase.html">VectorBase</a>&lt;&gt;&amp; <em>controlOutput</em>&nbsp;)<code> [pure virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the current control output that is sent to the manipulator's joints. The control output is converted into motor space and then output to the D/A converters of the I/O board. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>controlOutput</em>
&nbsp;</td><td>
 A vector containing the current control output (e.g., the torque for revolute joints) that should be applied to the links. </td></tr>
</table>
</dl>
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#a33">DefaultManipulator</a>.    </td>
  </tr>
</table>
<a name="a10" doxytag="OpenArchitectureManipulator::setJointControlOutput"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void setJointControlOutput (
          </b></td>
          <td valign="bottom"><b>
int <em>jointnumber</em>, 
          </b></td>
        </tr>
        <tr>
          <td></td>
          <td><b>
double <em>controlOutput</em>&nbsp;)<code> [pure virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Sets the current control output of a specified joint. joints. The control output is converted into motor space and then output to the D/A converters of the I/O board. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>jointNumber</em>
&nbsp;</td><td>
 The joint to which the control output is  sent. </td></tr>
<tr><td valign=top><em>controlOutput</em>
&nbsp;</td><td>
 The current control output to the joint (e.g., the torque for revolute joints) </td></tr>
</table>
</dl>
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#a34">DefaultManipulator</a>.    </td>
  </tr>
</table>
<a name="a11" doxytag="OpenArchitectureManipulator::getJointControlOutput"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
void getJointControlOutput (
          </b></td>
          <td valign="bottom"><b>
<a class="el" href="class_VectorBase.html">VectorBase</a>&lt;&gt;&amp; <em>controlOutput</em>&nbsp;)<code> [pure virtual]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Determines the current control output that is sent to the manipulator's joints. <dl compact><dt>
<b>Parameters: </b><dd>
<table border=0 cellspacing=2 cellpadding=0>
<tr><td valign=top><em>controlOutput</em>
&nbsp;</td><td>
 A vector containing the current control output (e.g., the torque for revolute joints) for all links. </td></tr>
</table>
</dl>
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#a35">DefaultManipulator</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a name="p0" doxytag="OpenArchitectureManipulator::s_typeInfo"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
<a class="el" href="class_TypeInfoAbstractT.html">TypeInfoAbstractT</a>&lt; OpenArchitectureManipulator &gt; s_typeInfo<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The static type info object of the class. Every class derived from <a class="el" href="class_RoboticObject.html">RoboticObject</a> must have this static data member and initialize it correctly. 
<p>
Reimplemented from <a class="el" href="class_Manipulator.html#p0">Manipulator</a>.
<p>
Reimplemented in <a class="el" href="class_DefaultManipulator.html#p0">DefaultManipulator</a>, and <a class="el" href="class_Puma560.html#p0">Puma560</a>.    </td>
  </tr>
</table>
<a name="p1" doxytag="OpenArchitectureManipulator::s_setAutoEnableArmPowerOff"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
bool s_setAutoEnableArmPowerOff<code> [static]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
If this static variable is set, arm power isn't enabled  when the manipulator is constructed.     </td>
  </tr>
</table>
<a name="n0" doxytag="OpenArchitectureManipulator::d_servoControl"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
ServoControl * d_servoControl<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
The servo control associated with the manipulator.     </td>
  </tr>
</table>
<a name="n1" doxytag="OpenArchitectureManipulator::d_servoControlEnabled"></a><p>
<table width="100%" cellpadding="2" cellspacing="0" border="0">
  <tr>
    <td class="md">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td nowrap valign="top"><b> 
bool d_servoControlEnabled<code> [protected]</code>
          </b></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Is true if servo control is enabled.     </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="OpenArchitectureManipulator_hpp-source.html">OpenArchitectureManipulator.hpp</a></ul>
</body>
</html>
