<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Client.hpp Source File</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.3 on Thu Jul 19 13:03:27 2001 -->
<h1>Client.hpp</h1><div class="fragment"><pre>00001 
00002 
00003 <font class="preprocessor">#ifndef INCLUDED_Client_hpp</font>
00004 <font class="preprocessor"></font><font class="preprocessor">#define INCLUDED_Client_hpp</font>
00005 <font class="preprocessor"></font>
00006 <font class="preprocessor">#ifdef NTO</font>
00007 <font class="preprocessor"></font><font class="preprocessor">    #include &lt;sys/neutrino.h&gt;</font>
00008 <font class="preprocessor">    #include &lt;unistd.h&gt;</font>
00009 <font class="preprocessor">#else</font>
00010 <font class="preprocessor"></font><font class="preprocessor">    #include &lt;sys/kernel.h&gt;</font>
00011 <font class="preprocessor">    #include &lt;sys/sendmx.h&gt;</font>
00012 <font class="preprocessor">#endif</font>
00013 <font class="preprocessor"></font>
00014 <font class="preprocessor">#include "QRTSBase.hpp"</font>
00015 <font class="preprocessor">#include "Server.hpp"</font>
00016 
00017 <font class="preprocessor">#include &lt;errno.h&gt;</font>
00018 <font class="preprocessor">#include &lt;string.h&gt;</font>
00019 
00020 
00021 
00042 <font class="keyword">class </font><a class="code" href="class_Client.html">Client</a> : <font class="keyword">public</font> QRTSBase
00043 {
00044   <font class="keyword">private</font>:
00045     <font class="keyword">enum</font> Constants
00046     {
00047         e_maxStatusMessageTextLength = 1024   
00050   };
00051 
00056   <font class="keyword">public</font>:
00057       
00058 <font class="preprocessor">    #ifndef DOXYGEN</font>
00059 <font class="preprocessor"></font><font class="preprocessor">        #ifdef NTO</font>
00060 <font class="preprocessor"></font>            <font class="keyword">typedef</font> <font class="keywordtype">int</font> ServerId;     <font class="comment">// NTO: A connection id identifies the server</font>
00061 <font class="preprocessor">        #else</font>
00062 <font class="preprocessor"></font>            <font class="keyword">typedef</font> pid_t ServerId;   <font class="comment">// QNX4: Pid of server</font>
00063 <font class="preprocessor">        #endif</font>
00064 <font class="preprocessor"></font><font class="preprocessor">    #else</font>
00065 <font class="preprocessor"></font>        <font class="keyword">class </font>ServerId;
00068 <font class="preprocessor">  #endif</font>
00069 <font class="preprocessor"></font>
00070     <a class="code" href="class_Client.html#a0">Client</a> ();
00076     <a class="code" href="class_Client.html#a0">Client</a> (<font class="keyword">const</font> <font class="keywordtype">char</font> *serverName, <font class="keyword">const</font> <font class="keywordtype">char</font> *serverFileName = 0,
00077                     <font class="keywordtype">double</font> startServerTimeout = 3);
00087 <font class="preprocessor">    #ifdef NTO</font>
00088 <font class="preprocessor"></font>        <a class="code" href="class_Client.html#a0">Client</a> (<a class="code" href="class_Server.html">Server</a> &amp;server);
00094 <font class="preprocessor">  #endif</font>
00095 <font class="preprocessor"></font>
00096     <font class="keyword">virtual</font> <a class="code" href="class_Client.html#a3">~Client</a>();
00101     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a4">connectToServer</a> (<font class="keyword">const</font> <font class="keywordtype">char</font> *serverName,
00102                                                 <font class="keyword">const</font> <font class="keywordtype">char</font> *serverFilename = 0,
00103                                                 <font class="keywordtype">double</font> startServerTimeout = 3);
00115 <font class="preprocessor">    #ifdef NTO</font>
00116 <font class="preprocessor"></font>        <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a4">connectToServer</a> (<a class="code" href="class_Server.html">Server</a> &amp;server);
00122 <font class="preprocessor">  #endif</font>
00123 <font class="preprocessor"></font>
00124 <font class="preprocessor">    #ifndef DOXYGEN</font>
00125 <font class="preprocessor"></font>    ServerId getServerId()<font class="keyword"> </font>{ <font class="keywordflow">return</font> d_serverId; };
00129     <font class="keywordtype">void</font> setServerId(ServerId serverId)<font class="keyword"> </font>{ d_serverId = serverId; }
00130 <font class="preprocessor">    #endif</font>
00131 <font class="preprocessor"></font>    
00132   
00133     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keyword">const</font> <font class="keywordtype">void</font> *msg, <font class="keywordtype">void</font> *reply,
00134                                         <font class="keywordtype">int</font> msgSize, <font class="keywordtype">int</font> replySize);
00143     <font class="keywordtype">int</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keyword">const</font> <font class="keywordtype">void</font> *msg, <font class="keywordtype">int</font> msgSize);
00151     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keywordtype">int</font> msg, <font class="keywordtype">void</font> *reply, <font class="keywordtype">int</font> replySize);
00160     <font class="keywordtype">int</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keywordtype">int</font> msg);
00168     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keyword">const</font> <font class="keywordtype">void</font> *msg, <font class="keywordtype">int</font> msgSize, <a class="code" href="class_Status.html">Status</a> &amp;status);
00181     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keywordtype">int</font> msg, <a class="code" href="class_Status.html">Status</a> &amp;status);
00192     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a6">sendMessage</a> (<font class="keywordtype">int</font> msgId,
00193                                         <font class="keyword">const</font> <font class="keywordtype">void</font> *msg, <font class="keywordtype">void</font> *reply,
00194                                         <font class="keywordtype">int</font> msgSize, <font class="keywordtype">int</font> replySize);
00206     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a13">sendMultiMessage</a> (<font class="keyword">const</font> <font class="keywordtype">void</font> *header, <font class="keywordtype">int</font> headerSize,
00207                                         <font class="keyword">const</font> <font class="keywordtype">void</font> *body, <font class="keywordtype">int</font> bodySize,
00208                                         <font class="keywordtype">void</font> *reply, <font class="keywordtype">int</font> replySize);
00220     <font class="keywordtype">void</font> <a class="code" href="class_Client.html#a13">sendMultiMessage</a> (<font class="keywordtype">int</font> header,
00221                                         <font class="keyword">const</font> <font class="keywordtype">void</font> *body, <font class="keywordtype">int</font> bodySize,
00222                                         <font class="keywordtype">void</font> *reply, <font class="keywordtype">int</font> replySize);
00234     <font class="keywordtype">int</font> <a class="code" href="class_Client.html#a13">sendMultiMessage</a> (<font class="keywordtype">int</font> header, <font class="keyword">const</font> <font class="keywordtype">void</font> *body, <font class="keywordtype">int</font> bodySize);
<a name="l00246"></a><a class="code" href="class_Client.html#a16">00246</a>     <font class="keyword">const</font> <font class="keywordtype">char</font> *<a class="code" href="class_Client.html#a16">getServerName</a>()<font class="keyword"> </font>{ <font class="keywordflow">return</font> d_serverName; }
00251 };
00252 <font class="preprocessor">#endif</font>
</font></div></pre></body>
</html>
